<!DOCTYPE html>
<html>
  <head>
     <meta charset="UTF-8">
     <title>ADM solution submission server</title>
     <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
     <script src="/static/jquery-linedtextarea.js"></script>
     <link href="/static/jquery-linedtextarea.css" type="text/css" rel="stylesheet" />
     <link href="/static/admserver.css" rel="Stylesheet" type="text/css">
  </head> 

  <body>
      <ul class="navbar"> 
	    <li class="navbar"><a href="/assignment" class="navbar">Assignment</a></li>
		<li class="navbar"><a href="/admin" class="navbar">Admin</a></li>
		<li class="navbar"><a href="/logout" class="navbar">Logout: {{ items["name"] }}</a></li>
      </ul>
    
    <TABLE>
    <TR><TH width="10%">Daedline</TH><TH width="65%">Description</TH><TH width="25%">&nbsp</TH></TR>
    
    <TR><TD>
    <pre>{{ (items["assignment"][1] - datetime.datetime.now().date()).days }}<BR />Days left</pre>
    </TD><TD>
    <strong><a href="/admin/{{ items["assignment"][0] }}">{{ items["assignment"][2] }}</a></strong><BR />
    <pre>{{ items["assignment"][3] }}</pre>
    </TD>
    <TD>
    </TD></TR>

    {% for task in items["tasks"] %}
    <TR><TD><a name="task{{ task[1] }}"></a><pre>Task {{ task[1] }}</pre>
    </TD><TD>
    <form action="/admin/{{ items["assignment"][0] }}" method="post">
    <input type="hidden" name="assignment" value="{{ items["assignment"][2] }}">
    <input type="hidden" name="task" value="{{ task[1] }}">
    Attempts: <input type="number" name="attempts" value="{{ task[8] }}"><BR /><BR />
	<textarea class="lined" cols="120" rows="4" name="description">{{ task[2] }}</textarea><BR />
	<textarea class="lined" cols="120" rows="17" name="tests">{{ task[3] }}</textarea><BR />
    <input type="submit" value="Update task">
	{% raw xsrf_form_html() %}    
    </form>    
    </TD>
    <TD>
    <form action="/deletetask" method="post">
    <input type="hidden" name="assignment" value="{{ items["assignment"][2] }}">
    <input type="hidden" name="task" value="{{ task[1] }}">
    <input type="submit" value="Delete task">
	{% raw xsrf_form_html() %} 
	</form></TD></TR>
    {% end %}
    
    <TR><TD><a name="*new task*"></a><pre>*new task*</pre>
    </TD><TD>
    <form action="/admin/{{ items["assignment"][0] }}" method="post">
    <input type="hidden" name="assignment" value="{{ items["assignment"][2] }}">
    <input type="hidden" name="task" value="new">
    Attempts: <input type="number" name="attempts" value="0"><BR /><BR />
	<textarea class="lined" cols="120" rows="4" name="description">enter a clear description of the programming task</textarea><BR />
	<pre><textarea class="lined" cols="120" rows="17" name="tests">&quot;&quot;&quot; Methods that invoke the programmed exercise and assert some state.
    All methods with trailing _ underscores will not be run autonomic 
    during a test. Test methods are run in random order so isolate them 
    from each other.&quot;&quot;&quot;

def _setUp(self):
    &quot;&quot;&quot;Initialize the test environment here if you need to.
    The -setUp method will be called before all tests. 
    The total possible score and the initial score can 
    be set here during setup.&quot;&quot;&quot;
   
    self.total = 50
    self.score = 10

def testExample(self):
    &quot;&quot;&quot;Feedback for failing&quot;&quot;&quot;
    assert something() == "some value"
    #increase the score after the assertion is met
    self.score += 10
    
    </textarea></pre><BR />
    <input type="submit" value="Create task">
	{% raw xsrf_form_html() %}    
    </form>    
    </TD><TD></TD></TR>
        

    </TABLE>
    </div>
    <script>
	    $(function() {
            $(".lined").linedtextarea( {selectedLine: 1});
        });
    </script>
  </body>
</html>